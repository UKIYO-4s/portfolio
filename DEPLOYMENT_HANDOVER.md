# ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº† å¼•ãç¶™ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ä½œæˆæ—¥: 2025å¹´11æœˆ21æ—¥

---

## ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå:** Laravel 12 ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚µã‚¤ãƒˆ + ECã‚µã‚¤ãƒˆ
**ãƒ‰ãƒ¡ã‚¤ãƒ³:** sd-create.jp
**ã‚µãƒ¼ãƒãƒ¼:** ConoHa VPS (IP: 163.44.114.42)

### ä¸»è¦æ©Ÿèƒ½

1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª** - åˆ¶ä½œå®Ÿç¸¾ã®è¡¨ç¤º
2. **ãƒ•ã‚©ãƒˆã‚®ãƒ£ãƒ©ãƒªãƒ¼** - å†™çœŸä½œå“ã®å±•ç¤º
3. **ECã‚·ãƒ§ãƒƒãƒ—** - Stripeæ±ºæ¸ˆçµ±åˆã€å•†å“è²©å£²æ©Ÿèƒ½
4. **ç®¡ç†ç”»é¢** - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†

---

## ğŸŒ ã‚µã‚¤ãƒˆURL

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸:** https://sd-create.jp
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§:** https://sd-create.jp/projects
- **ãƒ•ã‚©ãƒˆã‚®ãƒ£ãƒ©ãƒªãƒ¼:** https://sd-create.jp/photos
- **ECã‚·ãƒ§ãƒƒãƒ—:** https://sd-create.jp/shop
- **ã‚«ãƒ¼ãƒˆ:** https://sd-create.jp/cart

### ç®¡ç†ç”»é¢
- **ãƒ­ã‚°ã‚¤ãƒ³URL:** https://sd-create.jp/login
- **ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰:** https://sd-create.jp/admin
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†:** https://sd-create.jp/admin/projects
- **å†™çœŸç®¡ç†:** https://sd-create.jp/admin/photos
- **å•†å“ç®¡ç†:** https://sd-create.jp/admin/products
- **æ³¨æ–‡ç®¡ç†:** https://sd-create.jp/admin/orders

---

## ğŸ” ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±

### ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- **ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹:** admin@example.com
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:** goto408155
- **æ¨©é™:** ç®¡ç†è€… (is_admin: true)

### ã‚µãƒ¼ãƒãƒ¼SSHæ¥ç¶š
- **æ¥ç¶šå…ˆ:** root@163.44.114.42
- **èªè¨¼æ–¹æ³•:** SSHéµèªè¨¼
- **ç§˜å¯†éµ:** ~/.ssh/id_ed25519
- **å…¬é–‹éµ:** ~/.ssh/id_ed25519.pub

**SSHæ¥ç¶šã‚³ãƒãƒ³ãƒ‰:**
```bash
ssh root@163.44.114.42
```

---

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æƒ…å ±

### PostgreSQLè¨­å®š
- **ãƒ›ã‚¹ãƒˆ:** 127.0.0.1
- **ãƒãƒ¼ãƒˆ:** 5432
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å:** corporate_site
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å:** postgres
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:** goto408155

### ä½œæˆæ¸ˆã¿ãƒ†ãƒ¼ãƒ–ãƒ«
- users
- cache, jobs (Laravelæ¨™æº–)
- photos
- projects
- carts, cart_items
- products
- orders, order_items (ECã‚·ãƒ§ãƒƒãƒ—)
- migrations

---

## ğŸ’» ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢

| ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | èª¬æ˜ |
|-------------|-----------|------|
| OS | Debian 12 (bookworm) | ã‚µãƒ¼ãƒãƒ¼OS |
| PHP | 8.2.29 | Laravelå®Ÿè¡Œç’°å¢ƒ |
| PostgreSQL | 15 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |
| Node.js | 20.19.5 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ |
| npm | 10.8.2 | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ |
| Composer | 2.9.2 | PHPä¾å­˜é–¢ä¿‚ç®¡ç† |
| Nginx | 1.22.1 | Webã‚µãƒ¼ãƒãƒ¼ |
| Certbot | 2.1.0 | SSLè¨¼æ˜æ›¸ç®¡ç† |

### é‡è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ:** /var/www/portfolio
- **å…¬é–‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª:** /var/www/portfolio/public
- **Nginxè¨­å®š:** /etc/nginx/sites-available/portfolio
- **SSLè¨¼æ˜æ›¸:** /etc/letsencrypt/live/sd-create.jp/
- **ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«:** /var/www/portfolio/storage/logs/

---

## ğŸ”§ ã‚µãƒ¼ãƒãƒ¼è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

### Nginxè¨­å®š (/etc/nginx/sites-available/portfolio)
```nginx
server {
    listen 80;
    server_name sd-create.jp www.sd-create.jp;
    root /var/www/portfolio/public;

    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";

    index index.php;
    charset utf-8;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }

    # SSLè¨­å®šã¯CertbotãŒè‡ªå‹•è¿½åŠ 
}
```

### ç’°å¢ƒå¤‰æ•° (.env)
é‡è¦ãªè¨­å®šé …ç›®ï¼š
```env
APP_NAME="Corporate Site"
APP_ENV=production
APP_DEBUG=false
APP_URL=https://sd-create.jp

DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=corporate_site
DB_USERNAME=postgres
DB_PASSWORD=goto408155

STRIPE_KEY=pk_test_your_publishable_key_here
STRIPE_SECRET=sk_test_your_secret_key_here
```

---

## ğŸ“¦ ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿ã®çŠ¶æ…‹

### âœ… å®Œäº†ã—ãŸä½œæ¥­

1. **ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒæ§‹ç¯‰**
   - PHP 8.2, PostgreSQL 15, Node.js 20, Nginx 1.22ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   - å¿…è¦ãªPHPæ‹¡å¼µã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

2. **GitHubãƒªãƒã‚¸ãƒˆãƒª**
   - ãƒªãƒã‚¸ãƒˆãƒªURL: https://github.com/UKIYO-4s/portfolio
   - ãƒ–ãƒ©ãƒ³ãƒ: main
   - ã‚µãƒ¼ãƒãƒ¼ã«ã‚¯ãƒ­ãƒ¼ãƒ³æ¸ˆã¿

3. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   - Composerä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
   - npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
   - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰å®Œäº† (Vite)

4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**
   - PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆå®Œäº†
   - å…¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œå®Œäº†ï¼ˆorder_itemså«ã‚€ï¼‰
   - ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆå®Œäº†

5. **Webã‚µãƒ¼ãƒãƒ¼è¨­å®š**
   - Nginxè¨­å®šå®Œäº†
   - PHP-FPMèµ·å‹•å®Œäº†
   - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒªãƒ³ã‚¯ä½œæˆå®Œäº†

6. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
   - SSHéµèªè¨¼è¨­å®šå®Œäº†
   - ConoHaã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®šå®Œäº†ï¼ˆSSH, HTTP, HTTPSï¼‰
   - SSLè¨¼æ˜æ›¸å–å¾—ãƒ»è¨­å®šå®Œäº†ï¼ˆLet's Encryptï¼‰
   - è¨¼æ˜æ›¸æœ‰åŠ¹æœŸé™: 2026å¹´2æœˆ18æ—¥
   - è‡ªå‹•æ›´æ–°è¨­å®šæ¸ˆã¿

7. **DNSè¨­å®š**
   - ConoHa DNSã§Aãƒ¬ã‚³ãƒ¼ãƒ‰è¨­å®šå®Œäº†
   - sd-create.jp â†’ 163.44.114.42
   - www.sd-create.jp â†’ 163.44.114.42

---

## â³ æœªå®Œäº†ãƒ»ä»Šå¾Œã®ã‚¿ã‚¹ã‚¯

### 1. Stripeæœ¬ç•ªç’°å¢ƒã®è¨­å®šï¼ˆæœ€å„ªå…ˆï¼‰

**ç¾åœ¨ã®çŠ¶æ…‹:**
- Stripeã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¯©æŸ»å¾…ã¡
- ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã®ã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹

**å¯©æŸ»å®Œäº†å¾Œã®ä½œæ¥­:**

1. Stripeãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ
2. æœ¬ç•ªAPIã‚­ãƒ¼ã‚’å–å¾—
   - å…¬é–‹å¯èƒ½ã‚­ãƒ¼: `pk_live_...`
   - ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼: `sk_live_...`

3. ã‚µãƒ¼ãƒãƒ¼ã®.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°:
```bash
ssh root@163.44.114.42
cd /var/www/portfolio
nano .env
```

å¤‰æ›´ç®‡æ‰€:
```env
STRIPE_KEY=pk_live_xxxxxxxxxxxxxxxxxx
STRIPE_SECRET=sk_live_xxxxxxxxxxxxxxxxxx
```

4. è¨­å®šã‚’åæ˜ :
```bash
php artisan config:clear
php artisan cache:clear
```

### 2. Stripe Webhookè¨­å®šï¼ˆæ¨å¥¨ï¼‰

æ±ºæ¸ˆå®Œäº†ãªã©ã®ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã‚’å—ã‘å–ã‚‹ãŸã‚ã«è¨­å®šã—ã¾ã™ã€‚

1. Stripeãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ â†’ é–‹ç™ºè€… â†’ Webhook
2. ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ :
   - URL: `https://sd-create.jp/stripe/webhook`
   - ã‚¤ãƒ™ãƒ³ãƒˆé¸æŠ:
     - `payment_intent.succeeded`
     - `payment_intent.payment_failed`
     - `charge.refunded`

3. Webhookç½²åã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’.envã«è¿½åŠ :
```env
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxx
```

### 3. ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¨­å®š

æ³¨æ–‡ç¢ºèªãƒ¡ãƒ¼ãƒ«ãªã©ã‚’é€ä¿¡ã™ã‚‹ãŸã‚ã«è¨­å®šã—ã¾ã™ã€‚

æ¨å¥¨ã‚µãƒ¼ãƒ“ã‚¹:
- SendGrid
- Mailgun
- Amazon SES

.envã«è¨­å®šã‚’è¿½åŠ :
```env
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=your_username
MAIL_PASSWORD=your_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@sd-create.jp"
MAIL_FROM_NAME="${APP_NAME}"
```

### 4. å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®è¨­å®š

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ãƒ•ã‚¡ã‚¤ãƒ«ã®å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹:**
```bash
#!/bin/bash
# /root/backup-db.sh

BACKUP_DIR="/root/backups"
DATE=$(date +%Y%m%d_%H%M%S)
FILENAME="corporate_site_$DATE.sql"

mkdir -p $BACKUP_DIR
pg_dump -U postgres corporate_site > $BACKUP_DIR/$FILENAME
gzip $BACKUP_DIR/$FILENAME

# 30æ—¥ä»¥ä¸Šå¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤
find $BACKUP_DIR -name "*.sql.gz" -mtime +30 -delete
```

cronã§æ¯æ—¥å®Ÿè¡Œ:
```bash
crontab -e
# æ¯æ—¥åˆå‰3æ™‚ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
0 3 * * * /root/backup-db.sh
```

### 5. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

- fail2banã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹é˜²æ­¢ï¼‰
- SSHéµèªè¨¼ã®ã¿ã«åˆ¶é™ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ç„¡åŠ¹åŒ–ï¼‰
- ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šã®è¦‹ç›´ã—

### 6. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

- Redis/Memcachedã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š
- OPcacheã®è¨­å®šæœ€é©åŒ–
- ç”»åƒæœ€é©åŒ–ã®è‡ªå‹•åŒ–

---

## ğŸš€ ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

### ã‚µãƒ¼ãƒãƒ¼æ¥ç¶š
```bash
# SSHæ¥ç¶š
ssh root@163.44.114.42

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /var/www/portfolio
```

### Gitæ“ä½œ
```bash
# æœ€æ–°ç‰ˆã‚’å–å¾—
git pull origin main

# ä¾å­˜é–¢ä¿‚ã®æ›´æ–°
composer install --no-dev --optimize-autoloader
npm install
npm run build

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
php artisan config:clear
php artisan cache:clear
php artisan view:clear
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
```bash
# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
php artisan migrate --force

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
php artisan migrate:rollback --force

# PostgreSQLã«æ¥ç¶š
psql -U postgres -d corporate_site
```

### ã‚µãƒ¼ãƒ“ã‚¹ã®å†èµ·å‹•
```bash
# Nginxå†èµ·å‹•
systemctl restart nginx

# PHP-FPMå†èµ·å‹•
systemctl restart php8.2-fpm

# ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèª
systemctl status nginx
systemctl status php8.2-fpm
systemctl status postgresql
```

### SSLè¨¼æ˜æ›¸ã®æ›´æ–°
```bash
# è¨¼æ˜æ›¸ã®æ‰‹å‹•æ›´æ–°ãƒ†ã‚¹ãƒˆ
certbot renew --dry-run

# è¨¼æ˜æ›¸ã®æ›´æ–°ï¼ˆè‡ªå‹•æ›´æ–°ãŒå¤±æ•—ã—ãŸå ´åˆï¼‰
certbot renew --force-renewal

# è¨¼æ˜æ›¸ã®çŠ¶æ…‹ç¢ºèª
certbot certificates
```

### ãƒ­ã‚°ã®ç¢ºèª
```bash
# Laravelã®ãƒ­ã‚°
tail -f /var/www/portfolio/storage/logs/laravel.log

# Nginxã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°
tail -f /var/log/nginx/access.log

# Nginxã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
tail -f /var/log/nginx/error.log

# PHP-FPMã®ãƒ­ã‚°
tail -f /var/log/php8.2-fpm.log
```

---

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚µã‚¤ãƒˆãŒè¡¨ç¤ºã•ã‚Œãªã„

1. **Nginxã®çŠ¶æ…‹ç¢ºèª:**
```bash
systemctl status nginx
nginx -t  # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆ
```

2. **PHP-FPMã®çŠ¶æ…‹ç¢ºèª:**
```bash
systemctl status php8.2-fpm
```

3. **ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ç¢ºèª:**
```bash
tail -f /var/www/portfolio/storage/logs/laravel.log
tail -f /var/log/nginx/error.log
```

### 500ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

1. **ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã®ç¢ºèª:**
```bash
cd /var/www/portfolio
chown -R www-data:www-data storage bootstrap/cache
chmod -R 775 storage bootstrap/cache
```

2. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢:**
```bash
php artisan config:clear
php artisan cache:clear
php artisan view:clear
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

1. **PostgreSQLã®çŠ¶æ…‹ç¢ºèª:**
```bash
systemctl status postgresql
```

2. **.envãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª:**
```bash
cat /var/www/portfolio/.env | grep DB_
```

3. **æ¥ç¶šãƒ†ã‚¹ãƒˆ:**
```bash
psql -U postgres -d corporate_site
```

### SSLè¨¼æ˜æ›¸ã®ã‚¨ãƒ©ãƒ¼

1. **è¨¼æ˜æ›¸ã®çŠ¶æ…‹ç¢ºèª:**
```bash
certbot certificates
```

2. **è¨¼æ˜æ›¸ã®æ›´æ–°:**
```bash
certbot renew --force-renewal
systemctl reload nginx
```

---

## ğŸ“ é€£çµ¡å…ˆãƒ»ãƒªã‚½ãƒ¼ã‚¹

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **Laravelå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:** https://laravel.com/docs/12.x
- **Stripeå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:** https://stripe.com/docs
- **ConoHaã‚µãƒãƒ¼ãƒˆ:** https://support.conoha.jp/

### GitHubãƒªãƒã‚¸ãƒˆãƒª
- **ãƒªãƒã‚¸ãƒˆãƒªURL:** https://github.com/UKIYO-4s/portfolio
- **ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †æ›¸:** DEPLOYMENT.md

### ç®¡ç†è€…æƒ…å ±
- **ä½œæˆè€…:** Shoei Goto
- **ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹:** shoeigoto.sd@gmail.com

---

## ğŸ“ ä½œæ¥­å±¥æ­´

### 2025å¹´11æœˆ20æ—¥ã€œ21æ—¥
- ConoHa VPSã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒæ§‹ç¯‰ï¼ˆPHP, PostgreSQL, Node.js, Nginxï¼‰
- GitHubãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- order_itemsãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
- ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
- ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šï¼ˆsd-create.jpï¼‰
- SSLè¨¼æ˜æ›¸ã®å–å¾—ãƒ»è¨­å®š

### æ¬¡å›ä½œæ¥­äºˆå®š
- Stripeæœ¬ç•ªç’°å¢ƒã®è¨­å®šï¼ˆå¯©æŸ»å®Œäº†å¾…ã¡ï¼‰
- Webhookè¨­å®š
- ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¨­å®š
- å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®š

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®ç¢ºèªé …ç›®:

- [x] ã‚µã‚¤ãƒˆã«HTTPSã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- [x] ç®¡ç†ç”»é¢ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹
- [ ] Stripeæœ¬ç•ªã‚­ãƒ¼ã®è¨­å®š
- [ ] Webhookè¨­å®š
- [ ] ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãƒ†ã‚¹ãƒˆ
- [ ] å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®š
- [ ] å®Ÿéš›ã®å•†å“ãƒ‡ãƒ¼ã‚¿ç™»éŒ²
- [ ] å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ¼ã‚¿ç™»éŒ²
- [ ] å®Ÿéš›ã®å†™çœŸãƒ‡ãƒ¼ã‚¿ç™»éŒ²

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **Stripeå¯©æŸ»å®Œäº†å¾Œ**
   - æœ¬ç•ªAPIã‚­ãƒ¼ã‚’.envã«è¨­å®š
   - Webhookè¨­å®š
   - æ±ºæ¸ˆãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ

2. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¿½åŠ **
   - ç®¡ç†ç”»é¢ã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»å†™çœŸãƒ»å•†å“ã‚’è¿½åŠ 
   - ãƒ†ã‚¹ãƒˆæ³¨æ–‡ã§å‹•ä½œç¢ºèª

3. **é‹ç”¨æº–å‚™**
   - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®š
   - ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¨­å®š
   - ç›£è¦–è¨­å®š

---

**ä½œæˆæ—¥:** 2025å¹´11æœˆ21æ—¥
**æœ€çµ‚æ›´æ–°:** 2025å¹´11æœˆ21æ—¥
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 1.0
